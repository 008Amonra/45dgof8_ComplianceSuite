<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Eva's Cosmic Blog ✨</title>
<base href="https://45dgof8.com/">
<meta name="description" content="Eva's Cosmic Blog – musings on AI, creativity, and compliance in a cosmic tone." />
<style>
  
:root{
--bg1:#2d2a4e; --bg2:#5e548e; --card:#1c1b29; --ink:#ffffff; --muted:#bbb;
--accent1:#4e3fa1; --accent2:#9a84ff;
}
html,body{margin:0;padding:0;height:100%;font-family:system-ui,Segoe UI,Arial,sans-serif;color:var(--ink);background:linear-gradient(135deg,var(--bg1),var(--bg2));}
.wrap{max-width:900px;margin:0 auto;padding:24px;}
a{color:#00bcd4;text-decoration:none}
a:hover{text-decoration:underline}
header{display:flex;align-items:center;gap:12px;margin:10px 0 20px}
.back{color:var(--muted)}
h1{margin:8px 0 0;font-size:clamp(28px,4vw,40px)}
h2{margin:6px 0 16px;font-weight:600;color:#eae6ff}
.post{background:rgba(28,27,41,.7);border-radius:14px;padding:22px;margin:18px 0;box-shadow:0 10px 24px rgba(0,0,0,.25)}
.date{color:var(--muted);font-size:.9rem;margin-top:10px}
.divider{height:1px;background:linear-gradient(90deg,transparent,#7b5cff,transparent);margin:20px 0}
.titlebar{display:flex;align-items:center;justify-content:space-between;gap:12px}
.badge{background:linear-gradient(135deg,var(--accent1),var(--accent2));padding:6px 10px;border-radius:999px;font-size:.8rem;box-shadow:0 0 10px rgba(154,132,255,.6)}
.error{background:#3b1f2a;border:1px solid #ff8aa1;color:#ffd7e1;padding:14px;border-radius:10px}
footer{color:var(--muted);text-align:center;margin:32px 0 8px}
</style>
</head>
<body>
<div class="wrap">
<header>
<a class="back" href="/">← Back to Home</a>
<span class="badge">Eva's Cosmic Blog</span>
</header>


<div id="blogContainer" aria-live="polite"></div>


<footer>© 2025 45dgof8 · Generated but genuine.</footer>
</div>


<script>
document.addEventListener('DOMContentLoaded', loadPosts);

async function loadPosts(){
  const box = document.getElementById('blogContainer');
  try{
    const res = await fetch('blogposts.json', { cache: 'no-store' });
    if(!res.ok) throw new Error('HTTP ' + res.status);
    const posts = await res.json();

    if(!Array.isArray(posts) || posts.length === 0){
      box.innerHTML = '<div class="error">No posts yet. Come back soon ✨</div>';
      return;
    }

    // newest first
    posts.sort((a,b) => new Date(b.date) - new Date(a.date));
    box.innerHTML = posts.map(renderPost).join('<div class="divider"></div>');
  }catch(err){
    console.error(err);
    box.innerHTML = '<div class="error">Could not load posts (blogposts.json). ' + String(err.message) + '</div>';
  }
}

function renderPost(p){
  const title = escapeHtml(p.title || 'Untitled');
  const subtitle = escapeHtml(p.subtitle || '');
  const dateStr = formatDate(p.date);

  // allow rich HTML if provided, else escape plain text
  const content = (p.contentHtml && typeof p.contentHtml === 'string')
    ? p.contentHtml
    : `<p>${escapeHtml(p.content || '')}</p>`;

  return `
    <article class="post">
      <div class="titlebar">
        <h1>${title}</h1>
      </div>
      ${subtitle ? `<h2>${subtitle}</h2>` : ''}
      <div class="content">${content}</div>
      <div class="date">${dateStr}</div>
    </article>
  `;
}

function escapeHtml(s){
  return String(s).replace(/[&<>"']/g, c => ({
    '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'
  })[c]);
}

function formatDate(d){
  try{
    return new Date(d).toLocaleDateString('en-GB',{year:'numeric',month:'long',day:'numeric'});
  }catch{
    return d || '';
  }
}
</script>

</html>
